<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Stream Kosa</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
    <link rel='stylesheet' type='text/css' media='screen' href='main.css'>
    <script defer src='main.js'></script>
</head>
<body>


    <div class="nav-bar" > 
        <img id="logo" src="./Images/logo.svg">
        <nav class="hidden-nav-Items">
            <a href="./Index.html" class="selected">Home</a>
            <a href="./explore.html">Explore</a>
            <a href="./stream.html">Stream</a>
            <a href="#">Contact Us</a>
        </nav>
        <div class="hidden-nav-Items" id="nav-end">
            <img src="./Images/Utilities/search.svg">
            <img src="./Images/Utilities/cart.svg">
            <div>
                <a href="#">Login</a> <span>|</span><a href="#">Sign up</a>
            </div>
        </div>
        <div class="mobile-nav">
            <div id="mobile-nav-bar" class="mobile-menu">
                <nav class="">
                    <a href="./Index.html" class="selected">Home</a>
                    <a href="./explore.html">Explore</a>
                    <a href="./stream.html">Stream</a>
                    <a href="#">Contact Us</a>
                    <a href="#">Login</a>
                    <a href="#">Sign up</a>
                </nav>
                <img class="mobile-nav-icon" src="./Images/Utilities/cart.svg">
                <img class="mobile-nav-icon mobile-search" src="./Images/Utilities/search.svg">
            </div>
            <div onclick="toggleHam()" class="ham-bugger">
                <div></div>
                <div></div>
                <div></div>
            </div>

        </div>
    </div>
    <div class="gridContainer">
        <div id="sa-artist-profile">
            <img id="sa-artist-profile-pic" src="./Images/ArtistPhotos/Artist3.png" />
            <div>
                <div id="sa-artist-name">Burna Boy</div>
                <div id="sa-artist-details">
                    Damini Ebunoluwa Ogulu, known professionally as Burna Boy, is a Nigerian
                    singer, songwriter, and record producer. He rose to stardom in 2012 after 
                    releasing "Like to Party", the lead single from his album, L.I.F.E.
                </div>
            </div>
        </div>

        <div id="sa-stream">
            <div id = "sa-stream-title">
                <div class="selected">Live Stream (2)</div>
                <div>On - demand (6)</div>
            </div>
            <div class="sa-event-card-con">
                <div class="sa-event-card">
                    <img src="./Images/carosal/img2.png">
                    <div>
                        <div class="sa-event-title">Afro Nation Festival 2022 </div>
                        <div class="sa-event-date"> Streams live in 2 days </div>
                        <div class="sa-event-time"> 12:30 (WAT)</div>
                    </div>                
                </div>
                <div class="sa-event-card">
                    <img src="./Images/carosal/img2.png">
                    <div>
                        <div class="sa-event-title">Afro Nation Festival 2022 </div>
                        <div class="sa-event-date"> Streams live in 2 days </div>
                        <div class="sa-event-time"> 12:30 (WAT)</div>
                    </div>                
                </div>
                <div class="sa-event-card">
                    <img src="./Images/carosal/img2.png">
                    <div>
                        <div class="sa-event-title">Afro Nation Festival 2022 </div>
                        <div class="sa-event-date"> Streams live in 2 days </div>
                        <div class="sa-event-time"> 12:30 (WAT)</div>
                    </div>                
                </div>
        </div>
        </div>

        <div id = "sa-video" >
            <!-- <img id="sa-play-trailers" src="./Images/Utilities/play.svg"> -->
            <video onclick="toggleVideoPlay()" poster="./Images/carosal/img1.png" id = "sa-trailer"  src="./Images/y2mate.com - Creative short film Wonderful little world_480p.mp4" ></video>
                
            <div class="video-control">
                <input value="0" type="range" name="video-time" id="video-time" min="0" max="1000">
                <div class="video-button-control">
                    <div class="video-bottom-left">
                        <img onclick="toggleVideoPlay()" id="playbtn" src="./Images/Utilities/play2.svg">
                        <div id="video-progress">0:00 / 0:00</div>
                        <!-- <div class="orangeDotCon">
                            <div class="orangeDot"></div>
                            <div> Live</div>
                        </div> --> 
                    </div>
                    <div class="video-bottom-right">
                        <!-- <img src="./Images/Utilities/settings.svg" alt=""> -->
                        <img onclick="openFullScreen()" id="scale" src="./Images/Utilities/scale.svg">

                    </div>
                </div>
            </div>
        </div>

    </div>
        
    
    <!-- Simple Background light effect -->
    <div class="background-light-con static-light">
        <div class="background-light" id="left"></div>
        <div class="background-light" id="middle"></div>
        <div class="background-light" id="right"></div>
    </div>

    <footer class="black-footer">
        <div id="top-footer">
            <img src="./Images/logo.svg">
            <section>
                <img id="facebook" src="./Images/Utilities/Social/facebook.svg">
                <img src="./Images/Utilities/Social/twitter.svg">
                <img src="./Images/Utilities/Social/whatsapp.svg">
                <img src="./Images/Utilities/Social/instagram.svg">
            </section>
        </div>
        <div id="bottom-footer">
            <p>Â© 2022 Kosa Inc. </p>
            <section>
                <a href="#" class="">Terms</a>
                <a href="#" class="">Privacy Policy</a>
                <a href="#" class="">Help?</a>
            </section>

        </div>
    </footer>
    

    <script>
        const video = document.getElementById("sa-trailer") 

        const playAndPauseBtn = document.getElementById("playbtn")
    
        const toggleVideoPlay =() => {
            if (video.paused || video.ended){                    
                video.play()
                playAndPauseBtn.src = "./Images/Utilities/pause.svg"
            }else{
                video.pause()
                playAndPauseBtn.src = "./Images/Utilities/play2.svg"
            }
        }
        const scaleBtn = document.getElementById("scale")
        const openFullScreen = () =>{
            const videoCon = document.getElementById("sa-video")   
        
            if (videoCon.requestFullscreen) {
                videoCon.requestFullscreen();
            } else if (videoCon.webkitRequestFullscreen) { /* Safari */
                videoCon.webkitRequestFullscreen();
            } else if (videoCon.msRequestFullscreen) { /* IE11 */
                videoCon.msRequestFullscreen();
            }
        }

        const closeFullScreen = () => {
            if (document.exitFullscreen) {
                    document.exitFullscreen();
            } else if (document.webkitExitFullscreen) { /* Safari */
                document.webkitExitFullscreen();
            } else if (document.msExitFullscreen) { /* IE11 */
                document.msExitFullscreen();
            }
        }
        
       document.addEventListener('fullscreenchange', (event) => {
       
        let tempStr = scaleBtn.src.slice(scaleBtn.src.indexOf("/Images"))
      //  console.log(tempStr) 
        scaleBtn.src =  tempStr === "/Images/Utilities/scaleClose.svg"  ? "./Images/Utilities/scale.svg" : "./Images/Utilities/scaleClose.svg"
        scaleBtn.onclick = tempStr === "/Images/Utilities/scaleClose.svg" ? openFullScreen:closeFullScreen
    });


        const handleInputChange = (e) => {
            let target = e.target
            const min = target.min
            const max = target.max
            const val = target.value            
            target.style.backgroundSize = (val - min) * 100 / (max - min) + '% 100%'
            video.currentTime = (video.duration * val)/1000 
        }

        const TimeFormat = (duration) =>
        {   
            // Hours, minutes and seconds
            var hrs = ~~(duration / 3600);
            var mins = ~~((duration % 3600) / 60);
            var secs = ~~duration % 60;

            // Output like "1:01" or "4:03:59" or "123:03:59"
            var ret = "";

            if (hrs > 0) {
                ret += "" + hrs + ":" + (mins < 10 ? "0" : "");
            }

            ret += "" + mins + ":" + (secs < 10 ? "0" : "");
            ret += "" + secs;
            return ret;
        }

       

        const updateTime = () =>{
            //Please change this code
            const videoProgress = document.getElementById("video-progress")
            videoProgress.innerHTML = `${TimeFormat(video.currentTime)} / ${TimeFormat(video.duration)}`
       
            const slider = document.getElementById("video-time")

            let value =(video.currentTime * 100)/ video.duration 
            slider.style.backgroundSize = value + '% 100%'

            slider.value = (value*10)-2
     
        }

        document.getElementById("video-time").addEventListener("input",handleInputChange)
        
        video.addEventListener("timeupdate",updateTime)


    </script>
</body>
</html>